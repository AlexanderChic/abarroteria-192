<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abarroter√≠a - Sistema de Inventario</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üè™ Abarroter√≠a Jardines del eden</h1>
            <p>Sistema de Inventario y Gesti√≥n de Productos</p>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <button class="nav-btn active" onclick="showView('dashboard')">üìä Dashboard</button>
            <button class="nav-btn" onclick="showView('products')">üì¶ Productos</button>
            <button class="nav-btn" onclick="showView('add-product')">‚ûï Agregar Producto</button>
            <button class="nav-btn" onclick="showView('categories')">üìÇ Categor√≠as</button>
            <button class="nav-btn" onclick="showView('add-category')">‚ûï Agregar Categor√≠a</button>
        </div>

        <!-- Dashboard View -->
        <div id="dashboard" class="view active">
            <h2>üìä Dashboard</h2>
            <div class="stats">
                <div class="stat-card">
                    <h3 id="total-products">0</h3>
                    <p>Total Productos</p>
                </div>
                <div class="stat-card">
                    <h3 id="total-categories">0</h3>
                    <p>Total Categor√≠as</p>
                </div>
                <div class="stat-card">
                    <h3 id="total-value">$0</h3>
                    <p>Valor Total Inventario</p>
                </div>
                <div class="stat-card">
                    <h3 id="low-stock">0</h3>
                    <p>Productos Bajo Stock</p>
                </div>
            </div>
            <div id="recent-products">
                <h3>Productos Recientes</h3>
                <div id="recent-products-grid" class="cards-grid"></div>
            </div>
        </div>

        <!-- Products View -->
        <div id="products" class="view">
            <h2>üì¶ Gesti√≥n de Productos</h2>
            <div class="filters">
                <div class="form-group">
                    <input type="text" id="search-products" placeholder="Buscar productos..." onkeyup="searchProducts()">
                </div>
                <div class="form-group">
                    <select id="filter-category" onchange="filterProducts()">
                        <option value="">Todas las categor√≠as</option>
                    </select>
                </div>
            </div>
            <div id="products-grid" class="cards-grid"></div>
        </div>

        <!-- Add Product View -->
        <div id="add-product" class="view">
            <h2 id="product-form-title">‚ûï Agregar Producto</h2>
            <div id="product-message"></div>
            <form id="product-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="product-name">Nombre del Producto *</label>
                        <input type="text" id="product-name" required>
                    </div>
                    <div class="form-group">
                        <label for="product-category">Categor√≠a *</label>
                        <select id="product-category" required>
                            <option value="">Seleccionar categor√≠a</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="product-subcategory">Subcategor√≠a</label>
                        <select id="product-subcategory">
                            <option value="">Seleccionar subcategor√≠a</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="product-buy-price">Precio de Compra *</label>
                        <input type="number" id="product-buy-price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="product-sell-price">Precio de Venta *</label>
                        <input type="number" id="product-sell-price" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="product-supplier">Proveedor *</label>
                        <select id="product-supplier" required>
                            <option value="">Seleccionar proveedor</option>
                            <option value="Walmart">Walmart</option>
                            <option value="Costco">Costco</option>
                            <option value="Mercado Central">Mercado Central</option>
                            <option value="Distribuidora L√≥pez">Distribuidora L√≥pez</option>
                            <option value="Abarrotera Gonz√°lez">Abarrotera Gonz√°lez</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="product-stock">Stock Actual</label>
                        <input type="number" id="product-stock" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label for="product-image">Imagen (URL)</label>
                        <input type="url" id="product-image" placeholder="https://ejemplo.com/imagen.jpg">
                    </div>
                </div>
                <div class="form-group">
                    <label for="product-description">Descripci√≥n</label>
                    <textarea id="product-description" placeholder="Descripci√≥n del producto..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-success" id="save-product-btn">üíæ Guardar Producto</button>
                    <button type="button" class="btn" onclick="resetProductForm()">üîÑ Limpiar</button>
                    <button type="button" class="btn btn-secondary" id="cancel-edit-btn" onclick="cancelEdit()" style="display: none;">‚ùå Cancelar</button>
                </div>
            </form>
        </div>

        <!-- Categories View -->
        <div id="categories" class="view">
            <h2>üìÇ Gesti√≥n de Categor√≠as</h2>
            <div id="categories-grid" class="cards-grid"></div>
        </div>

        <!-- Add Category View -->
        <div id="add-category" class="view">
            <h2 id="category-form-title">‚ûï Agregar Categor√≠a</h2>
            <div id="category-message"></div>
            <form id="category-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="category-name">Nombre de la Categor√≠a *</label>
                        <input type="text" id="category-name" required>
                    </div>
                    <div class="form-group">
                        <label for="category-description">Descripci√≥n</label>
                        <textarea id="category-description" placeholder="Descripci√≥n de la categor√≠a..."></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label for="category-subcategories">Subcategor√≠as (separadas por comas)</label>
                    <input type="text" id="category-subcategories" placeholder="Subcategor√≠a 1, Subcategor√≠a 2, ...">
                    <small class="help-text">Ejemplo: Cereales, Enlatados, Condimentos</small>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-success" id="save-category-btn">üíæ Guardar Categor√≠a</button>
                    <button type="button" class="btn" onclick="resetCategoryForm()">üîÑ Limpiar</button>
                    <button type="button" class="btn btn-secondary" id="cancel-category-edit-btn" onclick="cancelCategoryEdit()" style="display: none;">‚ùå Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <script src="api.js"></script>
    <script src="script.js"></script>
</body>
</html>